<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <title>Join SHED</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            height: 100vh;
            background-color: #333;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #71b7e6, #9b59b6);
            padding: 1rem;
            letter-spacing: 1px;
        }
        .flex {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            max-width: 700px;
            width: 100%;
            border-radius: 0.3rem;
            background-color: white;
        }
        .name {
            font-size: 1.9rem;
            font-weight: 500;
            position: relative;
            color: white;
        }
        .container .title {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0.3rem;
            margin-bottom: 1rem;
background: #43C6AC;  
background: -webkit-linear-gradient(to right, #191654, #43C6AC);  
background: linear-gradient(to right, #191654, #43C6AC); 
        }
        .container .title .name::before {
            content:'';
            position: absolute;
            left: 0;
            bottom: 0;
            height: 3px;
            width: 2rem;
            background: linear-gradient(135deg, #71b7e6, #9b59b6);
        }
        form .user-details {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            padding: 1.3rem;    
        }
        .input-box {
            width: calc(100% / 2 - 20px);
        }
        .input-box input,
        .input-box textarea,
        .input-box select {
            width: 100%;
            height: 2.7rem; /* Default height for input fields */
            margin: 0.5rem; 
        }
        .input-box textarea {
            height: auto; /* Allow textarea to adjust height */
        }
        .details {
            font-weight: 500;
            font-size: 1.3rem;
            margin-bottom: 0.5rem; /* Space below labels */
        }
        input,
        textarea,
        select {
            padding: 5px;
            font-size: 1.1rem;
            outline: none;
            border-radius: 2px;
            transition: all 0.3s linear;
        }
        input[type="checkbox"] {
            width: 15px; /* Set width for checkbox */
            height: 15px; /* Set height for checkbox */
            margin-right: 5px; /* Space between checkbox and label */
        }
        input[type="checkbox"]:focus {
           outline:none; /* Remove outline on focus */
       }
       input[type="checkbox"]:checked::before {
           content:"âœ“"; /* Checkmark for custom styling */
       }
       input[type="checkbox"]:hover {
           cursor:pointer; /* Change cursor on hover */
       }
       input:focus, input:valid,
       textarea:focus, textarea:valid,
       select:focus {
           border: 1px solid black; /* Highlight on focus */
       }
       .btns {
           margin-bottom: 1.3rem;
           margin-left: 1.3rem;
           margin-right: 1.3rem; 
       }
       .btns input {
           margin-top: 0.8rem; 
           width:100%;
           background: linear-gradient(135deg,#71b7e6,#9b59b6);
           color:white; 
           font-size: 1.3rem; 
           transition: all 0.2s linear; 
       }
       .btns input:hover {
          background: linear-gradient(135deg,#9b59b6,#71b7e6); 
      }  
      /* Styles for Terms and Conditions Section */
      .terms-container {
          display:flex; 
          align-items:center; 
          margin-top:.5rem; 
      }  
      .terms-container a {
          margin-left:.5rem; /* Space between checkbox and link */
      }  
    </style>
</head>
<body class="flex">
    <div class="container">
         <div class="title">
             <div class="name">Join Us</div> <!-- Changed title to "Join Us" -->
         </div>
         <form id="registration-form" action="#">
             <div class="user-details">
                 <div class="input-box">
                     <span class="details">Email</span>
                     <input type="email" placeholder="Enter email" required>
                 </div>
                 <div class="input-box">
                     <span class="details">Your Class</span>
                     <select required>
                         <option value="" disabled selected>Select your class</option>
                         <option value="be1">BE1</option>
                         <option value="be2">BE2</option>
                         <option value="be3">BE3</option>
                         <option value="be4">BE4</option>
                         <option value="mca1">MCA1</option>
                         <option value="mca2">MCA2</option>
                     </select>
                 </div>
                 <!-- New Phone Number Input -->
                 <div class="input-box">
                     <span class="details">Phone Number</span>
                     <input type="tel" placeholder="Enter your phone number" pattern="[0-9]{10}" maxlength="10" required title="Please enter a valid phone number (10 digits)">
                 </div>

                 <!-- Which Sector Do You Want to Help With -->
                 <div class="input-box">
                     <span class="details">Which Sector Do You Want to Help With</span>
                     <select required>
                         <option value="" disabled selected>Select a sector</option>
                         <option value="hostel">Hostel</option>
                         <option value="scholarship">Scholarship</option>
                         <option value="education">Education</option>
                     </select>
                 </div>

                 <!-- Why Do You Want to Join -->
                 <div class="input-box">
                     <span class="details">Why Do You Want to Join</span>
                     <textarea rows="4" placeholder="Explain your motivation..." required></textarea>
                 </div>

                 <!-- Checkbox for Terms and Conditions -->
                 <div class="input-box terms-container">
                     <label style="display:flex; align-items:center;">
                         <input type="checkbox" id="agree-checkbox" required> <!-- Smaller Checkbox -->
                         I agree to terms and conditions.
                     </label>
                     <a href="#" target="_blank">Terms and Conditions</a> <!-- Link to Terms -->
                 </div>

             </div>

             <!-- Submit Button -->
             <div class="btns">
                 <input type="submit" value="Register">
             </div>

         </form>

         <!-- JavaScript for Form Submission and Fetch API -->
         <script>
             document.getElementById("registration-form").addEventListener("submit", function(event) {
                 event.preventDefault(); // Prevent default form submission
                 var checkbox = document.getElementById("agree-checkbox");
                 if (!checkbox.checked) {
                     alert("Please agree to the terms and conditions.");
                     return; // Stop execution if checkbox is not checked
                 }
                 const formData = {
                     email: document.querySelector('input[type=email]').value,

                     phone: document.querySelector('input[type=tel]').value,
                     class: document.querySelector('select').value,
                     sector: document.querySelectorAll('select')[1].value,
                     whytojoin: document.querySelector('textarea').value
                 };

                 // Send data to server using Fetch API
                 fetch('/api/joinUs', { // Replace with your server URL
                     method: 'POST',
                     headers:{
                         'Content-Type': 'application/json'
                     },
                     body : JSON.stringify(formData)
                 })
                 .then(response => response.json())
                 .then((data) => {
                    console.log('Success:', data)
                    document.querySelector('input[type=email]').value = "";
                    document.querySelector('select').value = "";
                    document.querySelector('input[type=tel]').value = "";
                    document.querySelectorAll('select')[1].value ="";
                    document.querySelector('textarea').value = "";
                    alert("Data Sent Successfully");

                    })
                 .catch((error) => console.error('Error:', error));
             });
         </script>

     </div> 
 </body>
 </html>

